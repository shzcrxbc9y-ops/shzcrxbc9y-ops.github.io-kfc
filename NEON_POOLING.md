# Пулинг соединений в Neon для Vercel

## Что такое пулинг соединений?

Пулинг соединений (Connection Pooling) - это механизм переиспользования соединений с базой данных. Это особенно важно для serverless окружений, таких как Vercel.

## Нужен ли пулинг для Vercel?

**ДА, рекомендуется использовать пулинг!**

### Почему:
1. **Vercel использует serverless функции** - каждая функция может создать новое соединение
2. **Ограничения на количество соединений** - без пулинга можно быстро достичь лимита
3. **Лучшая производительность** - пулинг переиспользует соединения
4. **Экономия ресурсов** - меньше нагрузка на базу данных

## Как использовать пулинг в Neon:

### Вариант 1: Через интерфейс Neon
1. В разделе "Подключитесь к своей базе данных"
2. Нажмите на "Строка соединения"
3. Если видите выбор между:
   - **"Session mode"** - обычное соединение (без пулинга)
   - **"Transaction mode"** или **"Pooled"** - пулинг соединений
4. Выберите **"Transaction mode"** или **"Pooled"**
5. Скопируйте строку подключения

### Вариант 2: Вручную изменить строку
Если у вас обычная строка:
```
postgresql://user:password@ep-xxx-xxx.us-east-1.aws.neon.tech/neondb?sslmode=require
```

Измените на pooled (добавьте `-pooler` в адрес):
```
postgresql://user:password@ep-xxx-xxx-pooler.us-east-1.aws.neon.tech/neondb?sslmode=require
```

## Как определить, используется ли пулинг:

**С пулингом:**
- Адрес содержит `-pooler`: `ep-xxx-xxx-pooler.region.aws.neon.tech`
- Или в интерфейсе указано "Transaction mode" / "Pooled"

**Без пулинга:**
- Адрес без `-pooler`: `ep-xxx-xxx.region.aws.neon.tech`
- Или указано "Session mode"

## Рекомендация для Vercel:

✅ **Используйте пулинг соединений (Pooled/Transaction mode)**

Это обеспечит:
- Стабильную работу приложения
- Лучшую производительность
- Избежание проблем с лимитами соединений
